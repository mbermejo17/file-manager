{"version":3,"names":[],"mappings":"","sources":["dashboard.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n$(document).ready(function () {\n\n    var setCookie = function setCookie(name, value, days) {\n        var expires = \"\";\n        if (days) {\n            var date = new Date();\n            date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n            expires = \"; expires=\" + date.toUTCString();\n        }\n        document.cookie = name + \"=\" + (value || \"\") + expires + \";path='/'\";\n    };\n\n    var getCookie = function getCookie(cname) {\n        var name = cname + \"=\";\n        var decodedCookie = decodeURIComponent(document.cookie);\n        var ca = decodedCookie.split(';');\n        for (var i = 0; i < ca.length; i++) {\n            var c = ca[i];\n            while (c.charAt(0) == ' ') {\n                c = c.substring(1);\n            }\n            if (c.indexOf(name) == 0) {\n                return c.substring(name.length, c.length);\n            }\n        }\n        return \"\";\n    };\n\n    var UserName = getCookie('UserName');\n    var UserRole = getCookie('UserRole');\n    var CompanyName = getCookie('CompanyName');\n    var RootPath = getCookie('RootPath');\n    var AccessString = getCookie('AccessString');\n\n    var _AccessString$split = AccessString.split(','),\n        _AccessString$split2 = _slicedToArray(_AccessString$split, 7),\n        AllowNewFolder = _AccessString$split2[0],\n        AllowRenameFolder = _AccessString$split2[1],\n        AllowRenameFile = _AccessString$split2[2],\n        AllowDeleteFolder = _AccessString$split2[3],\n        AllowDeleteFile = _AccessString$split2[4],\n        AllowUpload = _AccessString$split2[5],\n        AllowDownload = _AccessString$split2[6];\n\n    var currentPath = RootPath + '\\\\';\n\n    console.log(AccessString.split(','));\n    console.log('AllowNewFolder', AllowNewFolder);\n    console.log('AllowDeleteFolder', AllowDeleteFolder);\n    console.log('AllowDeleteFile', AllowDeleteFile);\n    console.log('AllowUpload', AllowUpload);\n    console.log('AllowDownload', AllowDownload);\n\n    var logout = function logout() {\n        setCookie('UserName', '', 0);\n        setCookie('UserRole', '', 0);\n        setCookie('sessionId', '', 0);\n        setCookie('token', '', 0);\n        setCookie('wssURL', '', 0);\n        document.location.href = '/';\n    };\n\n    var refreshPath = function refreshPath(cPath) {\n        var cPathArray = cPath.split('\\\\');\n        var newHtmlContent = \"<li><label id=\\\"currentpath\\\">Path:</label></li>\";\n\n        cPathArray.forEach(function (val, idx, array) {\n            newHtmlContent += \"<li><a class=\\\"breadcrumb\\\" href=\\\"#!\\\">\" + val + \"</a></li><li></li>\";\n        });\n        $('#currentPath').html(newHtmlContent);\n    };\n\n    var showUserProfile = function showUserProfile() {\n        var ModalTitle = 'User Profile';\n        var ModalContent = \"<table id=\\\"tableUserProfile\\\" class=\\\"striped highlight\\\">\\n                               <tr><td>User Name:</td><td>\" + UserName + \"</td></tr>\\n                               <tr><td>User Role:</td><td>\" + UserRole + \"</td></tr> \\n                               <tr><td>Company Name:</td><td>\" + CompanyName + \"</td></tr>\\n                               <tr><td colspan=\\\"2\\\" style=\\\"text-align:center;border-botom:1px solid #CCC\\\"><strong>Access</strong></td></tr>\\n                               <tr><td>Allow new Folder:</td><td>\" + AllowNewFolder + \"</td></tr>\\n                               <tr><td>Allow rename Folder:</td><td>\" + AllowRenameFolder + \"</td></tr>\\n                               <tr><td>Allow rename File:</td><td>\" + AllowRenameFile + \"</td></tr>\\n                               <tr><td>Allow delete Folder:</td><td>\" + AllowDeleteFolder + \"</td></tr>\\n                               <tr><td>Allow delete File:</td><td>\" + AllowDeleteFile + \"</td></tr>\\n                               <tr><td>Allow Upload:</td><td>\" + AllowUpload + \"</td></tr>\\n                               <tr><td>Allow Download:</td><td>\" + AllowDownload + \"</td></tr>\\n                            </table>\";\n        var htmlContent = \"<div id=\\\"modal-header\\\">\\n          <h5>\" + ModalTitle + \"</h5>\\n          <a class=\\\"modal_close\\\" id=\\\"modalClose\\\" href=\\\"#hola\\\"></a>\\n        </div>\\n        <div class=\\\"modal-content\\\">\\n          <p>\" + ModalContent + \"</p>\\n        </div>\\n        <div class=\\\"modal-footer\\\">\\n            <a class=\\\"modal-action modal-close waves-effect waves-teal btn-flat btn2-unify\\\" id=\\\"ModalClose\\\" href=\\\"#!\\\">Close</a>\\n        </div>    \";\n        $('#modal').html(htmlContent);\n        $('#modal').show();\n    };\n\n    AllowNewFolder === '1' ? $('#NewFolder').removeClass('disabled') : $('#NewFolder').addClass('disabled');\n    if (AllowDeleteFolder === '1' && AllowDeleteFile === '1') {\n        $('#delete').removeClass('disabled');\n    } else {\n        $('#delete').removeClass('disabled');\n        $('#delete').addClass('disabled');\n    }\n    if (AllowRenameFolder === '1' && AllowRenameFile === '1') {\n        $('#rename').removeClass('disabled');\n    } else {\n        $('#rename').removeClass('disabled');\n        $('#rename').addClass('disabled');\n    }\n    AllowUpload == '1' ? $('#upload').removeClass('disabled') : $('#upload').removeClass('disabled').addClass('disabled');\n    AllowDownload == '1' ? $('#download').removeClass('disabled') : $('#download').removeClass('disabled').addClass('disabled');\n\n    UserRole == 'admin' ? $('#settings').show() : $('#settings').hide();\n\n    $('#modaltrigger').html(UserName);\n    $('#modaltrigger').leanModal({\n        top: 110,\n        overlay: 0.45,\n        closeButton: \".hidemodal\"\n    });\n\n    $('a').on('click', function (e) {\n        console.log(this.id);\n        console.log($(this).hasClass('disabled'));\n\n        e.preventDefault();\n        if (!$(this).hasClass('disabled')) {\n            switch (this.id) {\n                case 'settings':\n                    break;\n                case 'usertrigger':\n                    $('#Usersdropdown').show();\n                    break;\n                case 'refresh':\n                    refreshPath(currentPath);\n                    break;\n                case 'userLogout':\n                    $('#Usersdropdown').hide();\n                    $('#logoutmodal').show();\n                    break;\n                case 'ModalUserLogout':\n                    $('#logoutmodal').hide();\n                    logout();\n                    break;\n                case 'userChangePassword':\n                    $('#Usersdropdown').hide();\n                    logout();\n                    break;\n                case 'userProfile':\n                    $('#Usersdropdown').hide();\n                    showUserProfile();\n                    break;\n                case 'modalClose':\n                case 'ModalClose':\n                    $('#modal').hide();\n                    break;\n                case 'logoutModalClose':\n                case 'cancel':\n                    $('#logoutmodal').hide();\n                    break;\n                case 'home':\n                    currentPath = RootPath + '\\\\';\n                    refreshPath(currentPath);\n                    break;\n                case 'newFolder':\n                    M.toast({\n                        html: 'Opcion no disponible'\n                    });\n                    break;\n                case 'delete':\n                    M.toast({\n                        html: 'Opcion no disponible'\n                    });\n                    break;\n                case 'upload':\n                    M.toast({\n                        html: 'Opcion no disponible'\n                    });\n                    break;\n                case 'download':\n                    M.toast({\n                        html: 'Opcion no disponible'\n                    });\n                    break;\n            }\n        } else {\n            M.toast({\n                html: 'Opcion no permitida'\n            });\n        }\n    });\n\n    refreshPath(currentPath);\n});\n\n},{}]},{},[1]);\n"],"file":"dashboard.js"}